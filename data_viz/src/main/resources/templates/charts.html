<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="css/charts.css?randomId=455">
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://lib.baomitu.com/echarts/5.2.0/echarts.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts-gl/2.0.7/echarts-gl.min.js"></script>
</head>

<body>
    <div id="charts">
        <el-container>
            <el-header height="150px">
                <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
                    <a class="navbar-brand" href="/dashTable">Dash_Table</a>
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="navbar-brand" href="#">Charts</a>
                        </li>
                        <li class="nav-item">
                            <div class="dropdown">
                                <a class="navbar-brand dropdown-toggle" href="#" data-toggle="dropdown">Charts</a>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="#">Link 1</a>
                                    <a class="dropdown-item" href="#">Link 2</a>
                                    <a class="dropdown-item" href="#">Link 3</a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
                <el-row :gutter="20">
                </el-row>
                <el-row :gutter="20">
                </el-row>
                <el-row :gutter="20">
                    <el-col :span="4">
                        <div class="grid-content bg-purple">
                            <div style="margin-top: 0px;padding-top: 5px;">
                                <el-select v-model="svalue" placeholder="case" @change="handleSelect">
                                    <el-option label="total case" value="1"></el-option>
                                    <el-option label="new cases" value="2"></el-option>
                                    <el-option label="new deaths" value="3"></el-option>
                                    <el-option label="total deaths" value="4"></el-option>
                                </el-select>
                            </div>
                        </div>
                    </el-col>
                </el-row>
            </el-header>
            <el-main id="center-map">
            </el-main>
        </el-container>
    </div>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" id="myContent" style="width:800px;height:550px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="myModalLabel">
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                </div>
                <div class="modal-body" style="width:800px;">
                    <div id="detials-charts" style="width:800px;height:400px;">
                    </div>
                </div>
                <div class="modal-footer">
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
</body>
<script type="text/javascript">
    $.ajaxSetup({
        async: false
    });
    new Vue({
        el: '#charts',
        data() {
            return {
                new_deaths: [],
                total_deaths: [],
                new_cases: [],
                total_cases: [],
                svalue: '',
            }
        },
        mounted: function () {
            this.initView()
            this.getTotalCase()
            this.echartsRegisterMap()
            var color = ['#c5d7ff', '#98c1ff', '#6ea8fd', '#4791ff', '#3887ff', '#1170ff', '#0076ad']
            this.Draw(color, "Total Case", this.total_cases)
        },
        methods: {
            initView() {
                var _this = this
                var centerDom = document.getElementById("center-map")
                var detialsDom = document.getElementById('detials-charts')
                _this.centerView = echarts.init(centerDom)
                _this.detialsView = echarts.init(detialsDom)
            },
            handleSelect(id) {
                var _this = this
                if (id == 1) {
                    _this.getTotalCase()
                    var color = ['#c5d7ff', '#98c1ff', '#6ea8fd', '#4791ff', '#3887ff', '#1170ff', '#0076ad']
                    _this.Draw(color, "Total Case", _this.total_cases)
                }
                else if (id == 2) {
                    _this.getNewCase()
                    var color = ['#c5ffdd', '#abf3c7', '#47da7f', '#27bd61', '#29ac5b', '#0c9741', '#076e2e']
                    _this.Draw(color, "New Case", _this.new_cases)
                }
                else if (id == 3) {
                    _this.getNewDeath()
                    var color = ['#f1986f', '#e26f3a', '#d66029', '#d14f12', '#b6400a', '#9c3a0d', '#812900']
                    _this.Draw(color, "New Death", _this.new_deaths)
                }
                else if (id == 4) {
                    _this.getTotalDeath()
                    var color = ['#dfdfdf', '#c5c4c4', '#b4b3b3', '#a5a4a4', '#949494', '#868585', '#727070']
                    _this.Draw(color, "Total Death", _this.total_deaths)
                }
            },
            getTotalCase() {
                var _this = this
                if (_this.total_cases.length == 0) {
                    $.get('/total_cases', function (getdata) {
                        _this.total_cases = getdata
                    })
                }
            },
            getNewCase() {
                var _this = this
                if (_this.new_cases.length == 0) {
                    $.get('/new_cases', function (getdata) {
                        _this.new_cases = getdata
                    })
                }
            },
            getNewDeath() {
                var _this = this
                if (_this.new_deaths.length == 0) {
                    $.get('/new_deaths', function (getdata) {
                        _this.new_deaths = getdata
                    })
                }
            },
            getTotalDeath() {
                var _this = this
                if (_this.total_deaths.length == 0) {
                    $.get('/total_deaths', function (getdata) {
                        _this.total_deaths = getdata
                    })
                }
            },
            echartsRegisterMap() {
                var _this = this
                var worldjs
                $.get('http://127.0.0.1:8081/json/world.json', function (js) {
                    worldjs = js
                })
                echarts.registerMap('world', worldjs);
            },
            Draw(color, label, data) {
                var _this = this
                var centerDom = document.getElementById("center-map")
                var centerView = echarts.init(centerDom)
                centerView.showLoading();
                var option = {
                    baseOption: {
                        animationDurationUpdate: 1000,
                        animationEasingUpdate: 'quinticInOut',
                        backgroundColor: '#ffffff',
                        timeline: {
                            axisType: 'category',
                            orient: 'vertical',
                            autoPlay: true,
                            inverse: true,
                            playInterval: 5000,
                            left: null,
                            right: 50,
                            top: 20,
                            bottom: 100,
                            width: 46,
                            height: null,
                            label: {
                                normal: {
                                    textStyle: {
                                        color: '#ddd'
                                    },
                                    position: 'right'
                                },
                                emphasis: {
                                    textStyle: {
                                        color: color[3]
                                    }
                                }
                            },
                            symbol: 'none',
                            lineStyle: {
                                color: '#555'
                            },
                            checkpointStyle: {
                                color: '#bbb',
                                borderColor: color[3],
                                borderWidth: 1
                            },
                            controlStyle: {
                                showNextBtn: false,
                                showPrevBtn: false,
                                normal: {
                                    color: '#666',
                                    borderColor: '#666'
                                },
                                emphasis: {
                                    color: color[3],
                                    borderColor: color[3]
                                }
                            },
                            data: data.map(function (ele) {
                                return ele.date
                            })
                        },
                        title: {
                            text: '(COVID-19) ' + label,
                            subtext: 'date: "2020,2 - 2021,10"',
                            left: 'center',
                            top: 'top',
                            textStyle: {
                                fontSize: 25,
                                color: '#000000'
                            }
                        },
                        toolbox: {
                            show: true,
                            x: 'left',
                            feature: {
                                dataView: { //数据视图
                                    show: true
                                },
                                restore: { //重置
                                    show: true
                                },
                                saveAsImage: {//保存图片
                                    show: true
                                }
                            }
                        },
                        tooltip: {
                        },
                        grid: {
                            left: '12%',
                            right: '45%',
                            top: '70%',
                            bottom: 20
                        },
                        xAxis: {},
                        yAxis: {},
                        series: [
                            {
                                id: 'map',
                                name: label,
                                type: 'map',
                                map: 'world',
                                roam: true,
                                zoom: 1.7,
                                top: '15%',
                                bottom: '50%',
                                itemStyle: {
                                    normal: {
                                        areaColor: '#ffeece',
                                        borderWidth: 0.5,
                                        borderColor: '#000000'
                                    },
                                    emphasis: {
                                        areaColor: '#DF013A',
                                        borderWidth: 1,
                                        borderColor: '#000000'
                                    }
                                },
                                data: []
                            },
                            {
                                id: 'bar',
                                type: 'bar',
                                tooltip: {
                                    show: false
                                },
                                label: {
                                    normal: {
                                        show: true,
                                        position: 'right',
                                        textStyle: {
                                            color: '#000000'
                                        }
                                    }
                                },
                                data: []
                            },
                            {
                                id: 'pie',
                                type: 'pie',
                                radius: ['8%', '20%'],
                                center: ['75%', '85%'],
                                roseType: 'radius',
                                tooltip: {
                                    formatter: '{b} {d}%'
                                },
                                data: [],
                                label: {
                                    normal: {
                                        textStyle: {
                                            color: '#000000'
                                        }
                                    }
                                },
                                labelLine: {
                                    normal: {
                                        lineStyle: {
                                            color: '#000000'
                                        }
                                    }
                                },
                                itemStyle: {
                                    normal: {
                                        borderColor: 'rgba(0,0,0,0.3)',
                                        borderSize: 1
                                    }
                                }
                            }
                        ]
                    },
                    options: []
                };
                for (var i = 0; i < data.length; i++) {
                    var datas = [];
                    Object.keys(data[i].data).forEach(function (key) {
                        datas.push({ name: key, value: data[i].data[key] })
                    });
                    datas.sort(function (o1, o2) {
                        return o2.value > o1.value;
                    })
                    console.log(datas);
                    option.options.push(
                        {
                            visualMap: [{
                                dimension: 0,
                                left: 10,
                                itemWidth: 12,
                                min: datas[datas.length - 1].value,
                                max: datas[1].value,
                                text: ['High', 'Low'],
                                textStyle: {
                                    color: '#000000'
                                },
                                inRange: {
                                    color: color
                                }
                            }],
                            xAxis: {
                                type: 'value',
                                boundaryGap: [0, 0.1],
                                axisLabel: {
                                    show: false,
                                }
                            },
                            yAxis: {
                                type: 'category',
                                axisLabel: {
                                    textStyle: {
                                        color: '#000000'
                                    }
                                },
                                data: datas.slice(0, 9).map(function (item) {
                                    return item.name;
                                })
                            },
                            series: [{
                                id: 'map',
                                data: datas
                            }, {
                                id: 'bar',
                                data: datas.slice(0, 9)
                            }, {
                                id: 'pie',
                                data: datas.slice(0, 9)
                            }]
                        })
                }
                centerView.hideLoading();
                centerView.setOption(option);
            }

        }
    })
    // let dom = document.getElementById("center-map");
    // let myChart = echarts.init(dom);
    // let dom1 = document.getElementById('detials-charts');
    // let myChart1 = echarts.init(dom1);
    // var data;
    // var ROOT_PATH =
    //     'http://127.0.0.1:8081/json/';
    // $.get('/new_cases', function (getdata) {
    //     console.log(getdata);
    // })
    // $.get('/total_cases', function (getdata) {
    //     data = getdata;
    // })
    // $.get(ROOT_PATH + 'world.json', function (worldjs) {
    //     echarts.registerMap('world', worldjs);
    //     var option = {
    //         baseOption: {
    //             animationDurationUpdate: 1000,
    //             animationEasingUpdate: 'quinticInOut',
    //             backgroundColor: '#ffffff',
    //             timeline: {
    //                 axisType: 'category',
    //                 orient: 'vertical',
    //                 autoPlay: true,
    //                 inverse: true,
    //                 playInterval: 5000,
    //                 left: null,
    //                 right: 50,
    //                 top: 20,
    //                 bottom: 100,
    //                 width: 46,
    //                 height: null,
    //                 label: {
    //                     normal: {
    //                         textStyle: {
    //                             color: '#ddd'
    //                         }
    //                     },
    //                     emphasis: {
    //                         textStyle: {
    //                             color: '#fff'
    //                         }
    //                     }
    //                 },
    //                 symbol: 'none',
    //                 lineStyle: {
    //                     color: '#555'
    //                 },
    //                 checkpointStyle: {
    //                     color: '#bbb',
    //                     borderColor: '#777',
    //                     borderWidth: 1
    //                 },
    //                 controlStyle: {
    //                     showNextBtn: false,
    //                     showPrevBtn: false,
    //                     normal: {
    //                         color: '#666',
    //                         borderColor: '#666'
    //                     },
    //                     emphasis: {
    //                         color: '#aaa',
    //                         borderColor: '#aaa'
    //                     }
    //                 },
    //                 data: data.map(function (ele) {
    //                     return ele.date
    //                 })
    //             },
    //             title: {
    //                 text: '(COVID-19) Total Case',
    //                 subtext: 'date: "2020,2 - 2021,10"',
    //                 left: 'center',
    //                 top: 'top',
    //                 textStyle: {
    //                     fontSize: 25,
    //                     color: '#000000'
    //                 }
    //             },
    //             toolbox: {
    //                 show: true,
    //                 x: 'left',
    //                 feature: {
    //                     dataView: { //数据视图
    //                         show: true
    //                     },
    //                     restore: { //重置
    //                         show: true
    //                     },
    //                     saveAsImage: {//保存图片
    //                         show: true
    //                     }
    //                 }
    //             },
    //             tooltip: {
    //             },
    //             grid: {
    //                 left: '12%',
    //                 right: '45%',
    //                 top: '70%',
    //                 bottom: 20
    //             },
    //             xAxis: {},
    //             yAxis: {},
    //             series: [
    //                 {
    //                     id: 'map',
    //                     name: 'totoal case',
    //                     type: 'map',
    //                     map: 'world',
    //                     roam: true,
    //                     zoom: 1.7,
    //                     top: '15%',
    //                     bottom: '50%',
    //                     itemStyle: {
    //                         normal: {
    //                             areaColor: '#ffeece',
    //                             borderWidth: 0.5,
    //                             borderColor: '#000000'
    //                         },
    //                         emphasis: {
    //                             areaColor: '#DF013A',
    //                             borderWidth: 1,
    //                             borderColor: '#000000'
    //                         }
    //                     },
    //                     data: []
    //                 },
    //                 {
    //                     id: 'bar',
    //                     type: 'bar',
    //                     tooltip: {
    //                         show: false
    //                     },
    //                     label: {
    //                         normal: {
    //                             show: true,
    //                             position: 'right',
    //                             textStyle: {
    //                                 color: '#000000'
    //                             }
    //                         }
    //                     },
    //                     data: []
    //                 },
    //                 {
    //                     id: 'pie',
    //                     type: 'pie',
    //                     radius: ['8%', '20%'],
    //                     center: ['75%', '85%'],
    //                     roseType: 'radius',
    //                     tooltip: {
    //                         formatter: '{b} {d}%'
    //                     },
    //                     data: [],
    //                     label: {
    //                         normal: {
    //                             textStyle: {
    //                                 color: '#000000'
    //                             }
    //                         }
    //                     },
    //                     labelLine: {
    //                         normal: {
    //                             lineStyle: {
    //                                 color: '#000000'
    //                             }
    //                         }
    //                     },
    //                     itemStyle: {
    //                         normal: {
    //                             borderColor: 'rgba(0,0,0,0.3)',
    //                             borderSize: 1
    //                         }
    //                     }
    //                 }
    //             ]
    //         },
    //         options: []
    //     };
    //     for (var i = 0; i < data.length; i++) {
    //         var datas = [];
    //         Object.keys(data[i].data).forEach(function (key) {
    //             datas.push({ name: key, value: data[i].data[key] })
    //         });
    //         datas.sort(function (o1, o2) {
    //             return o2.value > o1.value;
    //         })
    //         console.log(datas);
    //         option.options.push(
    //             {
    //                 visualMap: [{
    //                     dimension: 0,
    //                     left: 10,
    //                     itemWidth: 12,
    //                     min: datas[datas.length - 1].value,
    //                     max: datas[1].value,
    //                     text: ['High', 'Low'],
    //                     textStyle: {
    //                         color: '#000000'
    //                     },
    //                     inRange: {
    //                         color: ['#b2d1ff', '#98c1ff', '#6ea8fd', '#4791ff', '#3887ff', '#1170ff', '#0076ad']
    //                     }
    //                 }],
    //                 xAxis: {
    //                     type: 'value',
    //                     boundaryGap: [0, 0.1],
    //                     axisLabel: {
    //                         show: false,
    //                     }
    //                 },
    //                 yAxis: {
    //                     type: 'category',
    //                     axisLabel: {
    //                         textStyle: {
    //                             color: '#000000'
    //                         }
    //                     },
    //                     data: datas.slice(0, 9).map(function (item) {
    //                         return item.name;
    //                     })
    //                 },
    //                 series: [{
    //                     id: 'map',
    //                     data: datas
    //                 }, {
    //                     id: 'bar',
    //                     data: datas.slice(0, 9)
    //                 }, {
    //                     id: 'pie',
    //                     data: datas.slice(0, 9)
    //                 }]
    //             })
    //     }
    //     myChart.setOption(option);
    //     myChart.on('click', function (params) {
    //         $("#myModalLabel").empty();
    //         $("#myModalLabel").append(params.name);
    //         $('#myModal').modal('show')
    //         var option1 = {
    //         };
    //         myChart1.setOption(option1);
    //         console.log(params);
    //     });
    // });
</script>

</html>
<!-- <button id="btn"> switch </button>-->
<!--    <script>-->
<!--        var ROOT_PATH =-->
<!--            'https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples';-->

<!--        var chartDom = document.getElementById('charts');-->
<!--        var myChart = echarts.init(chartDom);-->
<!--        var option;-->

<!--        myChart.showLoading();-->
<!--        $.get(ROOT_PATH + '/data/asset/geo/USA.json', function (usaJson) {-->
<!--            myChart.hideLoading();-->
<!--            echarts.registerMap('USA', usaJson, {-->
<!--                Alaska: {-->
<!--                    left: -131,-->
<!--                    top: 25,-->
<!--                    width: 15-->
<!--                },-->
<!--                Hawaii: {-->
<!--                    left: -110,-->
<!--                    top: 28,-->
<!--                    width: 5-->
<!--                },-->
<!--                'Puerto Rico': {-->
<!--                    left: -76,-->
<!--                    top: 26,-->
<!--                    width: 2-->
<!--                }-->
<!--            });-->
<!--            var data = [-->
<!--                { name: 'Alabama', value: 4822023 },-->
<!--                { name: 'Alaska', value: 731449 },-->
<!--                { name: 'Arizona', value: 6553255 },-->
<!--                { name: 'Arkansas', value: 2949131 },-->
<!--                { name: 'California', value: 38041430 },-->
<!--                { name: 'Colorado', value: 5187582 },-->
<!--                { name: 'Connecticut', value: 3590347 },-->
<!--                { name: 'Delaware', value: 917092 },-->
<!--                { name: 'District of Columbia', value: 632323 },-->
<!--                { name: 'Florida', value: 19317568 },-->
<!--                { name: 'Georgia', value: 9919945 },-->
<!--                { name: 'Hawaii', value: 1392313 },-->
<!--                { name: 'Idaho', value: 1595728 },-->
<!--                { name: 'Illinois', value: 12875255 },-->
<!--                { name: 'Indiana', value: 6537334 },-->
<!--                { name: 'Iowa', value: 3074186 },-->
<!--                { name: 'Kansas', value: 2885905 },-->
<!--                { name: 'Kentucky', value: 4380415 },-->
<!--                { name: 'Louisiana', value: 4601893 },-->
<!--                { name: 'Maine', value: 1329192 },-->
<!--                { name: 'Maryland', value: 5884563 },-->
<!--                { name: 'Massachusetts', value: 6646144 },-->
<!--                { name: 'Michigan', value: 9883360 },-->
<!--                { name: 'Minnesota', value: 5379139 },-->
<!--                { name: 'Mississippi', value: 2984926 },-->
<!--                { name: 'Missouri', value: 6021988 },-->
<!--                { name: 'Montana', value: 1005141 },-->
<!--                { name: 'Nebraska', value: 1855525 },-->
<!--                { name: 'Nevada', value: 2758931 },-->
<!--                { name: 'New Hampshire', value: 1320718 },-->
<!--                { name: 'New Jersey', value: 8864590 },-->
<!--                { name: 'New Mexico', value: 2085538 },-->
<!--                { name: 'New York', value: 19570261 },-->
<!--                { name: 'North Carolina', value: 9752073 },-->
<!--                { name: 'North Dakota', value: 699628 },-->
<!--                { name: 'Ohio', value: 11544225 },-->
<!--                { name: 'Oklahoma', value: 3814820 },-->
<!--                { name: 'Oregon', value: 3899353 },-->
<!--                { name: 'Pennsylvania', value: 12763536 },-->
<!--                { name: 'Rhode Island', value: 1050292 },-->
<!--                { name: 'South Carolina', value: 4723723 },-->
<!--                { name: 'South Dakota', value: 833354 },-->
<!--                { name: 'Tennessee', value: 6456243 },-->
<!--                { name: 'Texas', value: 26059203 },-->
<!--                { name: 'Utah', value: 2855287 },-->
<!--                { name: 'Vermont', value: 626011 },-->
<!--                { name: 'Virginia', value: 8185867 },-->
<!--                { name: 'Washington', value: 6897012 },-->
<!--                { name: 'West Virginia', value: 1855413 },-->
<!--                { name: 'Wisconsin', value: 5726398 },-->
<!--                { name: 'Wyoming', value: 576412 },-->
<!--                { name: 'Puerto Rico', value: 3667084 }-->
<!--            ];-->
<!--            data.sort(function (a, b) {-->
<!--                return a.value - b.value;-->
<!--            });-->
<!--            const mapOption = {-->
<!--                visualMap: {-->
<!--                    left: 'right',-->
<!--                    min: 500000,-->
<!--                    max: 38000000,-->
<!--                    inRange: {-->
<!--                        // prettier-ignore-->
<!--                        color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']-->
<!--                    },-->
<!--                    text: ['High', 'Low'],-->
<!--                    calculable: true-->
<!--                },-->
<!--                series: [-->
<!--                    {-->
<!--                        id: 'population',-->
<!--                        type: 'map',-->
<!--                        roam: true,-->
<!--                        map: 'USA',-->
<!--                        animationDurationUpdate: 1000,-->
<!--                        universalTransition: true,-->
<!--                        data: data-->
<!--                    }-->
<!--                ]-->
<!--            };-->
<!--            const barOption = {-->
<!--                xAxis: {-->
<!--                    type: 'value'-->
<!--                },-->
<!--                yAxis: {-->
<!--                    type: 'category',-->
<!--                    axisLabel: {-->
<!--                        rotate: 30-->
<!--                    },-->
<!--                    data: data.map(function (item) {-->
<!--                        return item.name;-->
<!--                    })-->
<!--                },-->
<!--                animationDurationUpdate: 1000,-->
<!--                series: {-->
<!--                    type: 'bar',-->
<!--                    id: 'population',-->
<!--                    data: data.map(function (item) {-->
<!--                        return item.value;-->
<!--                    }),-->
<!--                    universalTransition: true-->
<!--                }-->
<!--            };-->
<!--            const pieOption = {-->

<!--                tooltip: {-->
<!--                    trigger: 'item'-->
<!--                },-->
<!--                series:-->
<!--                {-->
<!--                    name: 'map',-->
<!--                    type: 'pie',-->
<!--                    data: data,-->
<!--                }-->
<!--            }-->
<!--            let currentOption = mapOption;-->
<!--            myChart.setOption(mapOption);-->
<!--            document.getElementById('btn').addEventListener('click', function () {-->
<!--                if (currentOption == mapOption) {-->
<!--                    currentOption = barOption;-->
<!--                }-->
<!--                else if (currentOption == barOption) {-->
<!--                    currentOption = pieOption;-->
<!--                }-->
<!--                else if (currentOption == pieOption) {-->
<!--                    currentOption = mapOption;-->
<!--                }-->
<!--                myChart.setOption(currentOption, true);-->
<!--            }, false);-->
<!--        });-->
<!--    </script> -->